import{a as _,i as h}from"./ip-c3c4sia2.js";import{r as w,g as f,a as r,o as x,c as V,d as p,b as s,u as o,w as m,e as u,E as n,h as k}from"./index-rFPsw6Vl.js";const S={style:{display:"flex","place-items":"center",height:"100vh"}},y={style:{margin:"0 auto",width:"300px"}},I=p("h2",{style:{"margin-bottom":"20px"}},"健康颐养平台 后台管理系统",-1),N={__name:"LoginView",setup(v){let e=w({});f(()=>{e.username=localStorage.getItem("username"),e.password=localStorage.getItem("password"),localStorage.getItem("username")&&localStorage.getItem("password")&&(e.checked=!0)});let c=()=>{if(e.username===""||e.password==="")return n.warning("账号或密码不能为空"),!1;_.post(h.url()+"/user",e).then(l=>{l.data.code==="200"?(localStorage.setItem("user",JSON.stringify(l.data.data)),e.checked?(localStorage.setItem("username",e.username),localStorage.setItem("password",e.password)):(localStorage.removeItem("username"),localStorage.removeItem("password")),k.push("/index"),n.success("登录成功")):n.error("登录失败")})};return(l,t)=>{const d=r("el-input"),i=r("el-checkbox"),g=r("el-button");return x(),V("div",S,[p("div",y,[I,s(d,{modelValue:o(e).username,"onUpdate:modelValue":t[0]||(t[0]=a=>o(e).username=a),placeholder:"账号"},null,8,["modelValue"]),s(d,{modelValue:o(e).password,"onUpdate:modelValue":t[1]||(t[1]=a=>o(e).password=a),placeholder:"密码",style:{"margin-top":"20px"},showPassword:""},null,8,["modelValue"]),s(i,{modelValue:o(e).checked,"onUpdate:modelValue":t[2]||(t[2]=a=>o(e).checked=a)},{default:m(()=>[u("记住我")]),_:1},8,["modelValue"]),s(g,{style:{width:"100%","margin-top":"20px"},type:"primary",round:!0,onClick:o(c)},{default:m(()=>[u("登录")]),_:1},8,["onClick"])])])}}};export{N as default};
